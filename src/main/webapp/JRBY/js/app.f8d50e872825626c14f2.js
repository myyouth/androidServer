webpackJsonp([1],{"4ml/":function(a,e){},Gnxq:function(a,e){},NHnr:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("7+uW"),n={render:function(){var a=this.$createElement,e=this._self._c||a;return e("div",{staticStyle:{height:"100%"},attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=t("VU/8")({name:"App"},n,!1,function(a){t("ZsvG")},null,null).exports,l=t("/ocq"),o=t("Fd2+");s.default.use(o.d),s.default.use(o.c);var r={name:"JobBooking",data:function(){return{number:"",scannerNumber:"",transferCardNumber:"",materialNumber:"",flag:!0,processNumber:"",processID:"",orderNumber:"",inputNumber:"",outputNumber:"",badID:"",badProject:"",showProcessPicker:!1,showBadPicker:!1,unitTime:1,hourlyWage:1,processes:[{processID:"12",text:"工序1"},{processID:"13",text:"工序2"},{processID:"14",text:"工序3"},{processID:"15",text:"工序4"},{processID:"16",text:"工序5"}],bads:[{BadID:"12",text:"工序1"},{BadID:"13",text:"工序2"},{BadID:"14",text:"工序3"},{BadID:"15",text:"工序4"},{BadID:"16",text:"工序5"}]}},components:{},created:function(){this.getAllBadDes()},mounted:function(){window.scannerSearch=this.scannerSearch},computed:{badNumber:function(){return(this.inputNumber-this.outputNumber).toFixed(0)<=0&&(this.badProject="",this.badID=""),(this.inputNumber-this.outputNumber).toFixed(0)},taskTime:function(){return(this.outputNumber/this.unitTime).toFixed(2)},badProjectshow:function(){return this.badNumber>0},charges:function(){return(this.taskTime*this.hourlyWage).toFixed(2)}},watch:{scannerNumber:{deep:!0,handler:function(a,e){this.number=a,this.onSearch()}}},methods:{onSearch:function(){var a=this;android.showLodingDialog("正在获取工序流转卡数据..."),this.$api.get("/selectProcessBooking",{Number:this.number},function(e){android.closeLodingDialog(),a.clear(),e.status>=200&&e.status<300?0==e.data.msg.transferCardNumber.length?o.e.fail("工序流转单不存在,请确认工序流转卡编码"):0==e.data.msg.processes.length?o.e.fail("当前工单已报工完毕"):(o.e.success("获取工序流转单成功"),a.transferCardNumber=e.data.msg.transferCardNumber,a.orderNumber=e.data.msg.orderNumber,a.materialNumber=e.data.msg.materialNumber,a.onProcessConfirm(e.data.msg.processes),a.hourlyWage=e.data.msg.hourlyWage,a.bads=e.data.msg.badDec,a.flag=!1):o.e.fail("获取工序流转单时出现异常，请重新操作")})},onProcessConfirm:function(a){this.processNumber=a.text,this.processID=a.processID,this.unitTime=a.unitTime},onBadConfirm:function(a){this.badID=a.badID,this.badProject=a.text,this.showBadPicker=!1},clear:function(){this.transferCardNumber="",this.processNumber="",this.processID="",this.inputNumber="",this.outputNumber="",this.badProject="",this.badID="",this.materialNumber=""},submit:function(){var a=this;this.badNumber<0?o.e.fail("产出数量不得大于投入数量"):this.badNumber>0&&""==this.badID?o.e.fail("存在不良，请填写不良项目"):this.processID.length>0&&this.inputNumber.length>0&&this.outputNumber.length>0&&this.taskTime.length>0?o.a.confirm({title:"确认",message:"请确认当前数据已填写正确"}).then(function(){android.showLodingDialog("正在提交工序流转卡数据...");var e={transferCardNumber:a.transferCardNumber,processID:a.processID,processNumber:a.processNumber,inputNumber:a.inputNumber,outputNumber:a.outputNumber,taskTime:a.taskTime,badID:a.badID,badNumber:a.badNumber,badProject:a.badProject,userID:android.getUserID(),orderNumber:a.orderNumber};a.$api.get("/submitProcessBooking",{submitData:e},function(a){android.closeLodingDialog(),a.status>=200&&a.status<300?"true"==a.data.success?o.a.alert({message:a.data.msg}).then(function(){android.back()}):o.e.fail(a.data.msg):o.e.fail("数据提交出现异常,请重新提交")})}).catch(function(){}):o.e.fail("请填写必填项")},getAllBadDes:function(){var a=this;android.showLodingDialog("正在加载基础数据..."),this.$api.get("/selectAllBadDes",{},function(e){android.closeLodingDialog(),e.status>=200&&e.status<300&&"true"==e.data.success?a.bads=e.data.msg:android.alertDialog("警告","获取不良项目出现异常，请重新打开")})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.scannerNumber=a}}},c={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("Div",{staticStyle:{padding:"0.2rem"}},[t("van-search",{staticStyle:{"margin-right":"1rem"},attrs:{placeholder:"请输入工序流转卡批号","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch},model:{value:a.number,callback:function(e){a.number=e},expression:"number"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)]),a._v(" "),t("van-cell-group",[a._e(),a._v(" "),t("van-field",{attrs:{label:"型号：",disabled:"","label-align":"left"},model:{value:a.materialNumber,callback:function(e){a.materialNumber=e},expression:"materialNumber"}}),a._v(" "),a._e(),a._v(" "),t("van-field",{attrs:{readonly:"",disabled:"",label:"工序号：","label-align":"left",value:a.processNumber}}),a._v(" "),t("van-field",{attrs:{required:"",disabled:a.flag,label:"投入数：","label-align":"left",type:"number"},model:{value:a.inputNumber,callback:function(e){a.inputNumber=e},expression:"inputNumber"}}),a._v(" "),t("van-field",{attrs:{required:"",disabled:a.flag,label:"产出数：","label-align":"left",type:"number"},model:{value:a.outputNumber,callback:function(e){a.outputNumber=e},expression:"outputNumber"}}),a._v(" "),t("van-field",{attrs:{label:"不良数：","label-align":"left",disabled:"",type:"number"},model:{value:a.badNumber,callback:function(e){a.badNumber=e},expression:"badNumber"}}),a._v(" "),a._e(),a._v(" "),t("van-field",{attrs:{disabled:"",label:"加工费：","label-align":"left",type:"number"},model:{value:a.charges,callback:function(e){a.charges=e},expression:"charges"}}),a._v(" "),0==a.flag&&1==a.badProjectshow?t("van-field",{attrs:{readonly:"",clickable:"",label:"不良项目：","label-align":"left",value:a.badProject,placeholder:"选择不良项目"},on:{click:function(e){a.showBadPicker=!0}}}):t("van-field",{attrs:{readonly:"",clickable:"",label:"不良项目：","label-align":"left",value:a.badProject,placeholder:"选择不良项目"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showBadPicker,callback:function(e){a.showBadPicker=e},expression:"showBadPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.bads},on:{cancel:function(e){a.showBadPicker=!1},confirm:a.onBadConfirm}})],1)],1),a._v(" "),t("div",{staticStyle:{"margin-top":"1rem"}},[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.clear}},[a._v("清空")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger",disabled:a.flag},on:{click:a.submit}},[a._v("提交")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)],1)},staticRenderFns:[]};var u=t("VU/8")(r,c,!1,function(a){t("Gnxq")},"data-v-47e309f2",null).exports,d={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"hello"},[t("h1",[a._v(a._s(a.msg))]),a._v(" "),t("h2",[a._v("Essential Links")]),a._v(" "),a._m(0),a._v(" "),t("h2",[a._v("Ecosystem")]),a._v(" "),a._m(1)])},staticRenderFns:[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[a._v("\n        Core Docs\n      ")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[a._v("\n        Forum\n      ")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[a._v("\n        Community Chat\n      ")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[a._v("\n        Twitter\n      ")])]),a._v(" "),t("br"),a._v(" "),t("li",[t("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[a._v("\n        Docs for This Template\n      ")])])])},function(){var a=this.$createElement,e=this._self._c||a;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var m=t("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},d,!1,function(a){t("UEbX")},"data-v-d8ec41bc",null).exports,v={name:"RevisePassword",data:function(){return{password:"",password_comfirm:""}},methods:{clear:function(){this.password="",this.password_comfirm=""},submit:function(){0==this.password_comfirm.length||0==this.password.length?o.e.fail("填写密码不得为空"):this.password!=this.password_comfirm?o.e.fail("填写密码不一致"):(android.showLodingDialog("正在修改账号密码..."),this.$api.get("/revisePassword",{staffID:android.getUserID(),staffPassword:this.password},function(a){android.closeLodingDialog(),a.status>=200&&a.status<300?(android.toastLog(a.data.msg),android.back()):o.e.fail("重置密码出现异常")}))}},computed:{}},b={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticStyle:{padding:"0.2rem"}},[t("van-field",{attrs:{type:"password",placeholder:"请输入登录密码",clearable:"","label-width":"3.5rem"},model:{value:a.password,callback:function(e){a.password=e},expression:"password"}}),a._v(" "),t("van-field",{attrs:{type:"password",placeholder:"请再次输入登录密码",clearable:"","label-width":"3.5rem"},model:{value:a.password_comfirm,callback:function(e){a.password_comfirm=e},expression:"password_comfirm"}}),a._v(" "),t("van-row",{staticStyle:{"margin-top":"1rem"}},[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.clear}},[a._v("清空")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.submit}},[a._v("提交")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)},staticRenderFns:[]},f=t("VU/8")(v,b,!1,null,null,null).exports,p={data:function(){return{list:[],loading:!1,finished:!1}},methods:{onLoad:function(){var a=this;setTimeout(function(){for(var e=0;e<10;e++)a.list.push(a.list.length+1);a.loading=!1,a.list.length>=40&&(a.finished=!0)},1e3)}}},h={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("van-list",{attrs:{finished:a.finished,"finished-text":"没有更多了"},on:{load:a.onLoad},model:{value:a.loading,callback:function(e){a.loading=e},expression:"loading"}},[t("van-row",{attrs:{type:"flex",justify:"center"}},[t("van-col",{attrs:{span:"6"}},[a._v("span: 6")]),a._v(" "),t("van-col",{attrs:{span:"6"}},[a._v("span: 6")]),a._v(" "),t("van-col",{attrs:{span:"6"}},[a._v("span: 6")])],1)],1)},staticRenderFns:[]},k=t("VU/8")(p,h,!1,null,null,null).exports,g={data:function(){return{feedNumber:"",list:[],loading:!1,finished:!1}},methods:{onLoad:function(){this.onSearch()},onSearch:function(){var a=this;o.e.loading({duration:0,message:"加载中...",forbidClick:!0}),this.$api.get("/searchAllProFeed",{feedNumber:this.feedNumber},function(e){o.e.clear(),e.status>=200&&e.status<300?"true"==e.data.success?a.list=e.data.msg:o.e.fail(e.data.msg):o.e.fail("获取数据时出现异常，请重新操作")}),this.finished=!0},createProRequisit:function(a){this.$router.push({path:"/producionFeedingForProductRequisit",query:{number:a}})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.feedNumber=a,this.onSearch()}}},N={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("van-search",{staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{placeholder:"请输入生产投料单编码","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch},model:{value:a.feedNumber,callback:function(e){a.feedNumber=e},expression:"feedNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)]),a._v(" "),t("van-list",{staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{finished:a.finished,"finished-text":"没有更多了"},on:{load:a.onLoad},model:{value:a.loading,callback:function(e){a.loading=e},expression:"loading"}},a._l(a.list,function(e){return t("van-cell",{key:e,attrs:{title:e},on:{click:function(t){return a.createProRequisit(e)}}})}),1)],1)},staticRenderFns:[]},_=t("VU/8")(g,N,!1,null,null,null).exports,w=t("mvHQ"),S=t.n(w),x={data:function(){return{barcodeNumber:"",baseData:{type:"",typeId:"",subject:"",subjectId:"",purpose:"",dept:"",deptId:""},activeName:"",showSubjectPicker:!1,materialList:[],subjects:[{id:1,text:133},{id:2,text:13}]}},created:function(){this.searchProFeedInfo(),this.searchAllAccount()},mounted:function(){window.scannerSearch=this.scannerSearch},methods:{showLoading:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},searchProFeedInfo:function(){var a=this;this.showLoading("正在获取数据..."),this.$api.get("/searchProFeedInfo",{feedNumber:this.$route.query.number},function(e){return e.status>=200&&e.status<300?"true"!=e.data.success?(o.e.fail(e.data.msg),void o.e.clear()):(a.materialList=e.data.data,a.baseData.type=e.data.typeName,a.baseData.typeId=e.data.type,a.baseData.dept=e.data.dept,a.baseData.deptId=e.data.deptId,void o.e.clear()):(o.e.fail("数据获取异常！"),void o.e.clear())})},searchAllAccount:function(){var a=this;this.showLoading("正在获取数据..."),this.$api.get("/searchAllAccount",{},function(e){return e.status>=200&&e.status<300?"true"!=e.data.success?(o.e.fail(e.data.msg),void o.e.clear()):(a.subjects=e.data.subjects,void o.e.clear()):(o.e.fail("数据获取异常！"),void o.e.clear())})},onSubmit:function(){o.e.loading({duration:0,message:"正在提交数据...",forbidClick:!0}),this.$api.post("/submitProductRequisit",{baseData:S()(this.baseData),materialList:S()(this.materialList)},function(a){return a.status>=200&&a.status<300?"true"!=a.data.success?(o.e.clear(),void o.e.fail(a.data.msg)):(o.e.success("数据提交成功"),void android.back()):(o.e.clear(),void o.e.fail("数据提交异常！"))})},onBack:function(){this.$router.go(-1)},onBSubjectConfirm:function(a){this.baseData.subject=a.text,this.baseData.subjectId=a.id,this.showSubjectPicker=!1},deleteMaterial:function(){var a=this;this.materialList.some(function(e,t){if(e.id==a.activeName)return a.materialList.splice(t,1),!0})},onSearch:function(){var a=this;0!=this.barcodeNumber.length&&this.$api.get("/searchBarcodeNumber",{BarcodeNumber:this.barcodeNumber},function(e){if(a.barcodeNumber="",a.focusNextInput(),!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("条码查询异常！");if("true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);o.e.success("条码查询成功");var t=JSON.parse(e.data.msg);a.materialList.some(function(a,e){"*"==a.stockPlace&&(a.stockPlace=""),t.some(function(e,t){a.materialNumber==e.mNumber&&a.materialBatch==e.batch&&a.stockName==e.warehouse&&a.stockPlace==e.position&&(a.materialActualSum=Number(a.materialActualSum)+Number(e.mSum))})})})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.onSearch()},focusNextInput:function(){document.getElementsByTagName("input")[0].focus()}}},D={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{attrs:{placeholder:"","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSearch(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("基本信息")]),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"领料类型：",disabled:"","label-align":"left"},model:{value:a.baseData.type,callback:function(e){a.$set(a.baseData,"type",e)},expression:"baseData.type"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"对方科目：",disabled:"","label-align":"left",readonly:"",clickable:""},on:{click:function(e){a.showSubjectPicker=!0}},model:{value:a.baseData.subject,callback:function(e){a.$set(a.baseData,"subject",e)},expression:"baseData.subject"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showSubjectPicker,callback:function(e){a.showSubjectPicker=e},expression:"showSubjectPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.subjects},on:{cancel:function(e){a.showSubjectPicker=!1},confirm:a.onBSubjectConfirm}})],1)],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"领料部门：",disabled:"","label-align":"left"},model:{value:a.baseData.dept,callback:function(e){a.$set(a.baseData,"dept",e)},expression:"baseData.dept"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"领料用途：","label-align":"left",autosize:"",rows:"1",type:"textarea"},model:{value:a.baseData.purpose,callback:function(e){a.$set(a.baseData,"purpose",e)},expression:"baseData.purpose"}})],1)],1)],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("物料明细")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},a._l(a.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialName,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.materialNumber,callback:function(t){a.$set(e,"materialNumber",t)},expression:"item.materialNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.materialBatch,callback:function(t){a.$set(e,"materialBatch",t)},expression:"item.materialBatch"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.stockName,callback:function(t){a.$set(e,"stockName",t)},expression:"item.stockName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：",disabled:"","label-align":"left"},model:{value:e.stockPlace,callback:function(t){a.$set(e,"stockPlace",t)},expression:"item.stockPlace"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{disabled:"",label:"申请数量：","label-align":"left",type:"number"},model:{value:e.materialSum,callback:function(t){a.$set(e,"materialSum",t)},expression:"item.materialSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"实发数量：","label-align":"left",type:"number"},model:{value:e.materialActualSum,callback:function(t){a.$set(e,"materialActualSum",t)},expression:"item.materialActualSum"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("提交")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},y=t("VU/8")(x,D,!1,null,null,null).exports,C={data:function(){return{barcodeNumber:"",loading:!1,activeDocName:"",activeMateName:"",docList:[]}},methods:{toastLog:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},dealBarcodeNumber:function(){var a=this;0!=this.barcodeNumber.length?(this.toastLog("正在获取数据..."),this.$api.get("/selectNoteInfo",{billNo:this.barcodeNumber},function(e){if(!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("数据获取异常！");if(o.e.clear(),"true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);var t=JSON.parse(e.data.msg),s=!0;if(a.docList.some(function(a,e){a.purchasingUnit!=t.purchasingUnit&&(o.e.fail("购货单位必须一致！"),s=!1)}),s){a.$set(t,"id",a.docList.length+1);var n=0;a.docList.some(function(a,e){n=a.materialList.length+e}),t.materialList.some(function(e,t){n+=1,a.$set(e,"id",n)}),a.docList.push(t),o.e.success("成功"),console.log(a.docList)}})):o.e.fail("发货单号不得为空！")},onBack:function(){android.back()},onSubmit:function(){0!=this.docList.length?this.$router.push({path:"/consignmentNoteForSaleIssue",query:{data:this.docList}}):o.e.fail("发货通知单数据不得为空！")},deleteMaterial:function(){var a=this;this.docList.some(function(e,t){e.id==a.activeDocName&&e.materialList.some(function(t,s){if(t.id==a.activeMateName)return 1==e.materialList.length?a.deleteConsignment():e.materialList.splice(s,1),!0})})},deleteConsignment:function(){var a=this;this.docList.some(function(e,t){if(e.id==a.activeDocName)return a.docList.splice(t,1),!0})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.dealBarcodeNumber()}}},P={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{placeholder:"请输入发货通知单","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.dealBarcodeNumber,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.dealBarcodeNumber(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.dealBarcodeNumber},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("发货通知单数据")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeDocName,callback:function(e){a.activeDocName=e},expression:"activeDocName"}},a._l(a.docList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.docNumber,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单据编码：",disabled:"","label-align":"left"},model:{value:e.docNumber,callback:function(t){a.$set(e,"docNumber",t)},expression:"doc.docNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"购货单位：",disabled:"","label-align":"left"},model:{value:e.purchasingUnit,callback:function(t){a.$set(e,"purchasingUnit",t)},expression:"doc.purchasingUnit"}})],1)],1),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeMateName,callback:function(e){a.activeMateName=e},expression:"activeMateName"}},a._l(e.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialNumber,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.materialNumber,callback:function(t){a.$set(e,"materialNumber",t)},expression:"item.materialNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料名称：",disabled:"","label-align":"left"},model:{value:e.materialName,callback:function(t){a.$set(e,"materialName",t)},expression:"item.materialName"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"数量：",disabled:"","label-align":"left"},model:{value:e.materialSum,callback:function(t){a.$set(e,"materialSum",t)},expression:"item.materialSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：",disabled:"","label-align":"left"},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.stockName,callback:function(t){a.$set(e,"stockName",t)},expression:"item.stockName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：",disabled:"","label-align":"left"},model:{value:e.stockPlace,callback:function(t){a.$set(e,"stockPlace",t)},expression:"item.stockPlace"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.materialBatch,callback:function(t){a.$set(e,"materialBatch",t)},expression:"item.materialBatch"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[""==a.activeMateName||0==e.materialList.length?t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteConsignment}},[a._v("删除")]):a._e()],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("确定")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},$=t("VU/8")(C,P,!1,null,null,null).exports,L={data:function(){return{barcodeNumber:"",baseData:{},activeName:"",showSalesWayPicker:!1,salesWays:[{id:1,text:133},{id:2,text:13}],showShipperPicker:!1,shippers:[{id:1,text:"张三"},{id:2,text:"李四"}],showSafekeepingPicker:!1,Safekeepings:[],materialList:[]}},created:function(){var a=this;this.showLoading("正在加载...");var e=this.$route.query.data;this.baseData.type=e[0].type,this.baseData.typeId=e[0].typeId,this.baseData.salesWay=e[0].salesWay,this.baseData.salesWayId=e[0].salesWayId,this.baseData.purchasingUnit=e[0].purchasingUnit,this.baseData.purchasingUnitId=e[0].purchasingUnitId,this.baseData.dept=e[0].dept,this.baseData.deptId=e[0].deptId,this.baseData.director=e[0].director,this.baseData.directorId=e[0].directorId,this.baseData.salesMan=e[0].salesMan,this.baseData.salesManId=e[0].salesManId,this.baseData.shipper=e[0].shipper,this.baseData.shipperId=e[0].shipperId,e.some(function(e,t){e.materialList.some(function(e,t){a.materialList.push(e)})}),this.$api.get("/selectAllEmpInfo",{},function(e){o.e.clear(),e.status>=200&&e.status<300?"true"==e.data.success?(a.shippers=e.data.data,a.Safekeepings=e.data.data,o.e.success("数据获取成功")):o.e.fail(e.data.msg):o.e.fail("数据获取异常！")})},mounted:function(){window.scannerSearch=this.scannerSearch},methods:{showLoading:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},onSubmit:function(){this.showLoading("正在提交数据..."),this.$api.post("/submitSaleIssue",{baseData:S()(this.baseData),materialList:S()(this.materialList)},function(a){o.e.clear(),a.status>=200&&a.status<300?"true"==a.data.success?(o.e.success("数据提交成功"),android.back()):o.e.fail(a.data.msg):o.e.fail("数据提交异常！")})},onBack:function(){this.$router.go(-1)},onSalesWayConfirm:function(a){this.baseData.salesWay=a.text,this.baseData.salesWayId=a.id,this.showSalesWayPicker=!1},onShipperConfirm:function(a){this.baseData.shipper=a.text,this.baseData.shipperId=a.id,this.showShipperPicker=!1},onSafekeepingConfirm:function(a){this.baseData.safeKeeping=a.text,this.baseData.safeKeepingId=a.id,this.showSafekeepingPicker=!1},deleteMaterial:function(){var a=this;this.materialList.some(function(e,t){if(e.id==a.activeName)return a.materialList.splice(t,1),!0})},onSearch:function(){var a=this;0!=this.barcodeNumber.length&&this.$api.get("/searchBarcodeNumber",{BarcodeNumber:this.barcodeNumber},function(e){if(a.barcodeNumber="",a.focusNextInput(),!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("条码查询异常！");if("true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);o.e.success("条码查询成功");var t=JSON.parse(e.data.msg);a.materialList.some(function(a,e){"*"==a.stockPlace&&(a.stockPlace=""),t.some(function(e,t){a.materialNumber==e.mNumber&&a.materialBatch==e.batch&&a.stockName==e.warehouse&&a.stockPlace==e.position&&(a.materialActualSum=Number(a.materialActualSum)+Number(e.mSum))})})})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.onSearch()},focusNextInput:function(){document.getElementsByTagName("input")[0].focus()}}},I={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{attrs:{placeholder:"","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSearch(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("基本信息")]),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"销售业务类型：",disabled:"","label-align":"left"},model:{value:a.baseData.type,callback:function(e){a.$set(a.baseData,"type",e)},expression:"baseData.type"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"销售方式：",disabled:"","label-align":"left",readonly:"",clickable:""},on:{click:function(e){a.showSalesWayPicker=!1}},model:{value:a.baseData.salesWay,callback:function(e){a.$set(a.baseData,"salesWay",e)},expression:"baseData.salesWay"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showSalesWayPicker,callback:function(e){a.showSalesWayPicker=e},expression:"showSalesWayPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.salesWays},on:{cancel:function(e){a.showSalesWayPicker=!1},confirm:a.onSalesWayConfirm}})],1)],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"购货单位：",disabled:"","label-align":"left","label-width":"2rem"},model:{value:a.baseData.purchasingUnit,callback:function(e){a.$set(a.baseData,"purchasingUnit",e)},expression:"baseData.purchasingUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"部门：",disabled:"","label-align":"left","label-width":"2rem"},model:{value:a.baseData.dept,callback:function(e){a.$set(a.baseData,"dept",e)},expression:"baseData.dept"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"主管：",disabled:"","label-align":"left","label-width":"2rem"},model:{value:a.baseData.director,callback:function(e){a.$set(a.baseData,"director",e)},expression:"baseData.director"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"业务员：",disabled:"","label-align":"left","label-width":"2rem"},model:{value:a.baseData.salesMan,callback:function(e){a.$set(a.baseData,"salesMan",e)},expression:"baseData.salesMan"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"发货：",disabled:"","label-align":"left","label-width":"2rem"},on:{click:function(e){a.showShipperPicker=!0}},model:{value:a.baseData.shipper,callback:function(e){a.$set(a.baseData,"shipper",e)},expression:"baseData.shipper"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showShipperPicker,callback:function(e){a.showShipperPicker=e},expression:"showShipperPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.shippers},on:{cancel:function(e){a.showShipperPicker=!1},confirm:a.onShipperConfirm}})],1)],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"保管：",disabled:"","label-align":"left","label-width":"2rem"},on:{click:function(e){a.showSafekeepingPicker=!0}},model:{value:a.baseData.safeKeeping,callback:function(e){a.$set(a.baseData,"safeKeeping",e)},expression:"baseData.safeKeeping"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showSafekeepingPicker,callback:function(e){a.showSafekeepingPicker=e},expression:"showSafekeepingPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.Safekeepings},on:{cancel:function(e){a.showSafekeepingPicker=!1},confirm:a.onSafekeepingConfirm}})],1)],1)],1)],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("物料明细")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},a._l(a.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialName,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.materialNumber,callback:function(t){a.$set(e,"materialNumber",t)},expression:"item.materialNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.materialBatch,callback:function(t){a.$set(e,"materialBatch",t)},expression:"item.materialBatch"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.stockName,callback:function(t){a.$set(e,"stockName",t)},expression:"item.stockName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：",disabled:"","label-align":"left"},model:{value:e.stockPlace,callback:function(t){a.$set(e,"stockPlace",t)},expression:"item.stockPlace"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{disabled:"",label:"应发数量：","label-align":"left",type:"number"},model:{value:e.materialSum,callback:function(t){a.$set(e,"materialSum",t)},expression:"item.materialSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：","label-align":"left",disabled:""},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"实发数量：","label-align":"left",type:"number"},model:{value:e.materialActualSum,callback:function(t){a.$set(e,"materialActualSum",t)},expression:"item.materialActualSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：","label-align":"left",disabled:""},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("提交")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},B=t("VU/8")(L,I,!1,null,null,null).exports,M={data:function(){return{baseData:{printMachine:"",labelId:"4",labelName:"包装箱条码"},barcodeNumber:"",list:[],loading:!1,finished:!1,activeName:"",materialList:[],printMachines:[],labelNames:[],showPrintMachinePicker:!1,showLabelNamePicker:!1}},mounted:function(){window.scannerSearch=this.scannerSearch},created:function(){this.showLoading("正在加载数据..."),this.labelNames=[{text:"原料标签",id:"1"},{text:"产成品标签",id:"2"},{text:"小包装标签",id:"3"}],this.getPrintMachineList()},methods:{showLoading:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},getPrintMachineList:function(){var a=this;this.$api.get("/getPrintMachineList",{},function(e){(o.e.clear(),e.status>=200&&e.status<300)?"true"==e.data.success?(JSON.parse(e.data.data).some(function(e,t){a.printMachines.push({id:t,text:e.name})}),o.e.success("打印机获取成功！")):o.e.fail("打印机获取失败，请联系管理员！"):o.e.fail("打印机获取失败，请联系管理员！")})},dealBarcodeNumber:function(){var a=this;if(0!=this.barcodeNumber.length){var e=!1;this.materialList.some(function(t,s){t.materialBarcode!=a.barcodeNumber||(e=!0)}),e?o.e.fail("条码已扫描"):(o.e.loading({duration:0,message:"获取数据...",forbidClick:!0}),this.$api.get("/searchBarcodeNumber",{BarcodeNumber:this.barcodeNumber},function(e){if(a.barcodeNumber="",a.focusNextInput(),!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("数据获取异常！");if("true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);var t=JSON.parse(e.data.msg),s=a.materialList.length;t.some(function(e,t){a.$set(e,"id",s+t+1),a.$set(e,"materialBarcode",e.barcodeNumber),a.materialList.push(e)}),o.e.clear(),o.e.success("成功")}))}},onBack:function(){android.back()},onSubmit:function(){var a=this;if(o.e.loading({duration:0,message:"数据提交中...",forbidClick:!0}),0==this.baseData.printMachine.length||0==this.baseData.labelId||0==this.materialList.length)return o.e.clear(),void o.e.fail("请选择打印机、打印模板及条码数据！");var e=[];this.materialList.some(function(a,t){e.push(a.materialBarcode)}),this.$api.post("/createBoxBarcode",{mateBarcodeList:S()(e)},function(e){if(!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("数据获取异常！");if("true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);var t=e.data.msg,s=[];s.push(t),console.log(t),a.$api.post("/printBarcode",{jsonData:S()(s),printMachine:a.baseData.printMachine,labelName:a.baseData.labelId},function(a){o.e.clear(),a.status>=200&&a.status<300?"true"==a.data.success?(o.e.success(a.data.msg),android.back()):o.e.fail(a.data.msg):o.e.fail("打印机连接失败！")})})},deleteMaterial:function(){var a=this;this.materialList.some(function(e,t){if(e.id==a.activeName)return a.materialList.splice(t,1),!0})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.dealBarcodeNumber()},onPrintMachineConfirm:function(a){this.baseData.printMachine=a.text,this.showPrintMachinePicker=!1},onLabelNameConfirm:function(a){this.baseData.labelName=a.text,this.baseData.labelId=a.id,this.showLabelNamePicker=!1},focusNextInput:function(){document.getElementsByTagName("input")[0].focus()}}},U={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{ref:"search",staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{placeholder:"请输入条码","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.dealBarcodeNumber,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.dealBarcodeNumber(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.dealBarcodeNumber},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("基本信息")]),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"打印机名称：",disabled:"",readonly:"","label-align":"left",clickable:""},on:{click:function(e){a.showPrintMachinePicker=!0}},model:{value:a.baseData.printMachine,callback:function(e){a.$set(a.baseData,"printMachine",e)},expression:"baseData.printMachine"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showPrintMachinePicker,callback:function(e){a.showPrintMachinePicker=e},expression:"showPrintMachinePicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.printMachines},on:{cancel:function(e){a.showPrintMachinePicker=!1},confirm:a.onPrintMachineConfirm}})],1)],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"条码模板：",disabled:"","label-align":"left",readonly:"",clickable:""},on:{click:function(e){a.showLabelNamePicker=!1}},model:{value:a.baseData.labelName,callback:function(e){a.$set(a.baseData,"labelName",e)},expression:"baseData.labelName"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showLabelNamePicker,callback:function(e){a.showLabelNamePicker=e},expression:"showLabelNamePicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.labelNames},on:{cancel:function(e){a.showLabelNamePicker=!1},confirm:a.onLabelNameConfirm}})],1)],1)],1)],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("条码明细")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},a._l(a.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialBarcode,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料名称：",disabled:"","label-align":"left"},model:{value:e.mName,callback:function(t){a.$set(e,"mName",t)},expression:"item.mName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.mNumber,callback:function(t){a.$set(e,"mNumber",t)},expression:"item.mNumber"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{disabled:"",label:"数量：","label-align":"left"},model:{value:e.mSum,callback:function(t){a.$set(e,"mSum",t)},expression:"item.mSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：",disabled:"","label-align":"left"},model:{value:e.unitName,callback:function(t){a.$set(e,"unitName",t)},expression:"item.unitName"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.warehouse,callback:function(t){a.$set(e,"warehouse",t)},expression:"item.warehouse"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：",disabled:"","label-align":"left"},model:{value:e.position,callback:function(t){a.$set(e,"position",t)},expression:"item.position"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.batch,callback:function(t){a.$set(e,"batch",t)},expression:"item.batch"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("装箱")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},q=t("VU/8")(M,U,!1,null,null,null).exports,A={data:function(){return{barcodeNumber:"",list:[],loading:!1,finished:!1,activeName:"",materialList:[],sum:""}},methods:{dealBarcodeNumber:function(){var a=this;o.e.loading({duration:0,message:"获取数据...",forbidClick:!0}),this.$api.get("/searchBarcodeNumber",{BarcodeNumber:this.barcodeNumber},function(e){if(!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("数据获取异常！");if("true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);var t=JSON.parse(e.data.msg);a.$set(t,"id",a.materialList.length+1),a.$set(t,"materialBarcode",a.barcodeNumber),a.materialList=[],a.materialList.push(t),a.sum=t.mSum,o.e.clear(),o.e.success("成功")})},onBack:function(){android.back()},onSubmit:function(){if(this.materialList[0].mSum>this.sum)o.e.fail("拆包后数量不得超过初始数量！");else{o.e.loading({duration:0,message:"数据提交中...",forbidClick:!0});var a=[];this.materialList.some(function(e,t){a.push(e.materialBarcode)}),this.$api.post("/updateBarcode",{BarcodeNumber:this.barcodeNumber,mSum:this.materialList[0].mSum},function(a){return a.status>=200&&a.status<300?"true"!=a.data.success?(o.e.clear(),void o.e.fail(a.data.msg)):(o.e.clear(),o.e.success(a.data.msg),void android.back()):(o.e.clear(),void o.e.fail("数据获取异常！"))})}},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.dealBarcodeNumber()}}},W={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{placeholder:"请输入条码","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.dealBarcodeNumber,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.dealBarcodeNumber(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.dealBarcodeNumber},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("条码明细")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},a._l(a.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialBarcode,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.mNumber,callback:function(t){a.$set(e,"mNumber",t)},expression:"item.mNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料名称：",disabled:"","label-align":"left"},model:{value:e.mName,callback:function(t){a.$set(e,"mName",t)},expression:"item.mName"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"数量：","label-align":"left"},model:{value:e.mSum,callback:function(t){a.$set(e,"mSum",t)},expression:"item.mSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：",disabled:"","label-align":"left"},model:{value:e.unitName,callback:function(t){a.$set(e,"unitName",t)},expression:"item.unitName"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.warehouse,callback:function(t){a.$set(e,"warehouse",t)},expression:"item.warehouse"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：",disabled:"","label-align":"left"},model:{value:e.position,callback:function(t){a.$set(e,"position",t)},expression:"item.position"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.batch,callback:function(t){a.$set(e,"batch",t)},expression:"item.batch"}})],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("拆包")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},E=t("VU/8")(A,W,!1,null,null,null).exports,F=t("MICi"),R=t.n(F),z={data:function(){return{barcodeNumber:"",baseData:{dept:"",deptId:"",customer:"",customerId:"",sourceType:"",sourceTypeId:"",menuNumber:"",requester:"",requesterId:"",consignor:"",consignorId:"",purpose:""},activeName:"",materialList:[],showDeptsPicker:!1,depts:[],showCustomersPicker:!1,customers:[],showSourceTypesPicker:!1,sourceTypes:[],showMenuNumbersPicker:!1,menuNumbers:[],showRequestersPicker:!1,requesters:[],showConsignorsPicker:!1,consignors:[],showStocksPicker:!1,stocks:[],showStockPlacesPicker:!1,stockPlaces:[]}},created:function(){this.searchAllInfo()},methods:{showLoading:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},searchAllInfo:function(){var a=this;this.showLoading("正在获取数据..."),this.$api.get("/selectAllInfo",{},function(e){if(o.e.clear(),e.status>=200&&e.status<300)if("true"==e.data.success){var t=e.data.data;a.depts=t.deptInfo,a.customers=t.customerInfo,a.requesters=t.empInfo,a.consignors=t.empInfo,a.stockPlaces=t.stockPlaceInfo,a.stocks=t.stockInfo,o.e.success("数据获取成功")}else o.e.fail(e.data.msg);else o.e.fail("数据获取异常")})},onSubmit:function(){if(0!=this.baseData.deptId.length&&0!=this.baseData.customerId.length&&0!=this.baseData.requesterId.length&&0!=this.baseData.consignorId.length)if(0!=this.materialList.length){var a=!0;this.materialList.some(function(e,t){if(!e.totalPrice||e.totalPrice<=0||0==e.warehouse.length)return o.e.fail("请确认物料信息"),a=!1,!0}),a&&this.$api.post("/submitMiscellaneousIssue",{baseData:S()(this.baseData),materialList:S()(this.materialList)},function(a){o.e.clear(),a.status>=200&&a.status<300?"true"==a.data.success?(o.e.success("数据提交成功"),android.back()):o.e.fail(a.data.msg):o.e.fail("数据提交异常！")})}else o.e.fail("请输入物料");else o.e.fail("请填写必填项")},onBack:function(){android.back()},onDeptsConfirm:function(a){this.baseData.dept=a.text,this.baseData.deptId=a.id,this.showDeptsPicker=!1},onCustomerConfirm:function(a){this.baseData.customer=a.text,this.baseData.customerId=a.id,this.showCustomersPicker=!1},onSourceTypeConfirm:function(a){this.baseData.sourceType=a.text,this.baseData.sourceTypeId=a.id,this.showSourceTypesPicker=!1,this.menuNumbers=[{id:1,text:"1231"},{id:2,text:"4123"}]},onMenuNumberConfirm:function(a){this.baseData.menuNumber=a.text,this.showMenuNumbersPicker=!1},onRequesterConfirm:function(a){this.baseData.requester=a.text,this.baseData.requesterId=a.id,this.showRequestersPicker=!1},onConsignorConfirm:function(a){this.baseData.consignor=a.text,this.baseData.consignorId=a.id,this.showConsignorsPicker=!1},onStocksConfirm:function(a){var e=this;this.materialList.some(function(t,s){e.activeName==t.id&&(e.$set(t,"warehouse",a.text),e.$set(t,"warehouseId",a.id))}),this.showStocksPicker=!1},onStockPlacesConfirm:function(){var a=this;this.materialList.some(function(e,t){a.activeName==e.id&&(a.$set(e,"position",data.text),a.$set(e,"positionId",data.id))}),this.showStockPlacesPicker=!1},deleteMaterial:function(){var a=this;this.materialList.some(function(e,t){if(e.id==a.activeName)return a.materialList.splice(t,1),!0})},onSearch:function(){var a=this;this.showLoading("正在获取数据..."),this.$api.get("/searchBarcodeInfo",{BarcodeNumber:this.barcodeNumber},function(e){if(o.e.clear(),e.status>=200&&e.status<300)if("true"==e.data.success){var t=JSON.parse(e.data.msg);a.$set(t,"id",a.materialList.length+1);var s=!0;a.materialList.some(function(e,n){return t.barcodeNumber==e.barcodeNumber?(o.e.fail("当前条码已扫描"),s=!1,!0):t.mId==e.mId&&t.batch==e.batch&&t.warehouseId==e.warehouseId&&t.positionId==e.positionId?(a.$set(e,"mSum",parseInt(e.mSum)+parseInt(t.mSum)),s=!1,!0):void 0}),s&&(a.materialList.push(t),o.e.success("数据获取成功"))}else o.e.fail(e.data.msg);else o.e.fail("数据获取异常")})},setTotalPrice:function(a){var e=parseInt(a.price)*parseInt(a.mSum);R()(e)&&(e=0),this.$set(a,"totalPrice",e)},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.onSearch()}}},j={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{attrs:{placeholder:"","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSearch(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("基本信息")]),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"领料部门：",disabled:"","label-align":"left"},on:{click:function(e){a.showDeptsPicker=!0}},model:{value:a.baseData.dept,callback:function(e){a.$set(a.baseData,"dept",e)},expression:"baseData.dept"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showDeptsPicker,callback:function(e){a.showDeptsPicker=e},expression:"showDeptsPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.depts},on:{cancel:function(e){a.showDeptsPicker=!1},confirm:a.onDeptsConfirm}})],1)],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"客户：",disabled:"","label-align":"left",readonly:"",clickable:""},on:{click:function(e){a.showCustomersPicker=!0}},model:{value:a.baseData.customer,callback:function(e){a.$set(a.baseData,"customer",e)},expression:"baseData.customer"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showCustomersPicker,callback:function(e){a.showCustomersPicker=e},expression:"showCustomersPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.customers},on:{cancel:function(e){a.showCustomersPicker=!1},confirm:a.onCustomerConfirm}})],1)],1)],1),a._v(" "),a._e(),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"领料人：",disabled:"","label-align":"left"},on:{click:function(e){a.showRequestersPicker=!0}},model:{value:a.baseData.requester,callback:function(e){a.$set(a.baseData,"requester",e)},expression:"baseData.requester"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showRequestersPicker,callback:function(e){a.showRequestersPicker=e},expression:"showRequestersPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.requesters},on:{cancel:function(e){a.showRequestersPicker=!1},confirm:a.onRequesterConfirm}})],1)],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"发货人：","label-align":"left",disabled:""},on:{click:function(e){a.showConsignorsPicker=!0}},model:{value:a.baseData.consignor,callback:function(e){a.$set(a.baseData,"consignor",e)},expression:"baseData.consignor"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showConsignorsPicker,callback:function(e){a.showConsignorsPicker=e},expression:"showConsignorsPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.consignors},on:{cancel:function(e){a.showConsignorsPicker=!1},confirm:a.onConsignorConfirm}})],1)],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"领料用途：","label-align":"left",autosize:"",rows:"1",type:"textarea"},model:{value:a.baseData.purpose,callback:function(e){a.$set(a.baseData,"purpose",e)},expression:"baseData.purpose"}})],1)],1)],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("物料明细")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},a._l(a.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.mName,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.mNumber,callback:function(t){a.$set(e,"mNumber",t)},expression:"item.mNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.batch,callback:function(t){a.$set(e,"batch",t)},expression:"item.batch"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"仓库：",disabled:"","label-align":"left"},on:{click:function(e){a.showStocksPicker=!0}},model:{value:e.warehouse,callback:function(t){a.$set(e,"warehouse",t)},expression:"item.warehouse"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showStocksPicker,callback:function(e){a.showStocksPicker=e},expression:"showStocksPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.stocks},on:{cancel:function(e){a.showStocksPicker=!1},confirm:a.onStocksConfirm}})],1)],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：",disabled:"","label-align":"left"},on:{click:function(e){a.showStockPlacesPicker=!0}},model:{value:e.position,callback:function(t){a.$set(e,"position",t)},expression:"item.position"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showStockPlacesPicker,callback:function(e){a.showStockPlacesPicker=e},expression:"showStockPlacesPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.stockPlaces},on:{cancel:function(e){a.showStockPlacesPicker=!1},confirm:a.onStockPlacesConfirm}})],1)],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"申请数量：","label-align":"left",type:"number"},on:{change:function(t){return a.setTotalPrice(e)}},model:{value:e.mSum,callback:function(t){a.$set(e,"mSum",t)},expression:"item.mSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"单价：","label-align":"left",type:"number"},on:{change:function(t){return a.setTotalPrice(e)}},model:{value:e.price,callback:function(t){a.$set(e,"price",t)},expression:"item.price"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{disabled:"",label:"金额：","label-align":"left",type:"number"},model:{value:e.totalPrice,callback:function(t){a.$set(e,"totalPrice",t)},expression:"item.totalPrice"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("提交")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},T=t("VU/8")(z,j,!1,null,null,null).exports,O={data:function(){return{processNo:"",list:[],loading:!1,finished:!1}},methods:{onLoad:function(){this.onSearch()},onSearch:function(){var a=this;o.e.loading({duration:0,message:"加载中...",forbidClick:!0}),this.$api.get("/auxCheck/getAuxCheckList",{processNo:this.processNo},function(e){o.e.clear(),e.status>=200&&e.status<300?"true"==e.data.success?a.list=e.data.msg:o.e.fail(e.data.msg):o.e.fail("获取数据时出现异常，请重新操作")}),this.finished=!0},updateAuxCheck:function(a){this.$router.push({path:"/auxCheck",query:{number:a}})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.processNo=a,this.onSearch()}}},Q={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("van-search",{staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{placeholder:"请输入盘点方案编码","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch},model:{value:a.processNo,callback:function(e){a.processNo=e},expression:"processNo"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)]),a._v(" "),t("van-list",{staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{finished:a.finished,"finished-text":"没有更多了"},on:{load:a.onLoad},model:{value:a.loading,callback:function(e){a.loading=e},expression:"loading"}},a._l(a.list,function(e){return t("van-cell",{key:e,attrs:{title:e},on:{click:function(t){return a.updateAuxCheck(e)}}})}),1)],1)},staticRenderFns:[]},V=t("VU/8")(O,Q,!1,null,null,null).exports,K={data:function(){return{barcodeNumber:"",baseData:{auxCheckNo:""},activeName:"",materialList:[],notInMaterialList:[]}},created:function(){this.baseData.auxCheckNo=this.$route.query.number,this.searchAuxCheckInfo()},methods:{showLoading:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},searchAuxCheckInfo:function(){var a=this;this.showLoading("正在获取数据..."),this.$api.get("/auxCheck/getAuxCheckData",{auxCheckNo:this.$route.query.number},function(e){return e.status>=200&&e.status<300?"true"!=e.data.success?(o.e.fail(e.data.msg),void o.e.clear()):(a.materialList=e.data.data,void o.e.clear()):(o.e.fail("数据获取异常！"),void o.e.clear())})},onSubmit:function(){var a=this;if(this.notInMaterialList.length>0){var e="请将以下物料新增至盘点报告：\n";this.notInMaterialList.some(function(a,t){e=e+"物料："+a.materialName+"-"+a.batchNumber+"-"+a.stockName+"-"+a.stockPlaceName+"-盘点数量："+a.auxCheckQty+"\n"}),o.a.confirm({title:"提醒",message:e}).then(function(){a.submit()})}else this.submit()},submit:function(){o.e.loading({duration:0,message:"正在提交数据...",forbidClick:!0}),this.$api.post("/auxCheck/updateAuxCheckData",{auxCheckNo:this.baseData.auxCheckNo,notInMaterialList:S()(this.notInMaterialList),materialList:S()(this.materialList)},function(a){return a.status>=200&&a.status<300?"true"!=a.data.success?(o.e.clear(),void o.e.fail(a.data.msg)):(o.e.success(a.data.msg),void android.back()):(o.e.clear(),void o.e.fail("数据提交异常！"))})},onBack:function(){this.$router.go(-1)},onSearch:function(){var a=this;this.$api.get("/searchAuxBarcodeNumber",{BarcodeNumber:this.barcodeNumber},function(e){if(!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("条码查询异常！");if("true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);o.e.success("条码查询成功");var t=e.data.msg,s=!0;if(a.materialList.some(function(a,e){if(a.materialID==t.materialID&&a.batchNumber==t.batchNumber&&a.stockID==t.stockID&&a.stockPlaceID==t.stockPlaceID)return a.auxCheckQty=Number(a.auxCheckQty)+Number(t.auxCheckQty),void(s=!1)}),s){var n=!0;a.notInMaterialList.some(function(a,e){if(a.materialID==t.materialID&&a.batchNumber==t.batchNumber&&a.stockID==t.stockID&&a.stockPlaceID==t.stockPlaceID)return a.auxCheckQty=Number(a.auxCheckQty)+Number(t.auxCheckQty),void(n=!1)}),n&&a.notInMaterialList.push(t)}})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.onSearch()}}},J={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{attrs:{placeholder:"","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSearch(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("基本信息")]),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"盘点单号：",disabled:"","label-align":"left"},model:{value:a.baseData.auxCheckNo,callback:function(e){a.$set(a.baseData,"auxCheckNo",e)},expression:"baseData.auxCheckNo"}})],1)],1)],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("物料明细")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},a._l(a.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialName,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.materialCode,callback:function(t){a.$set(e,"materialCode",t)},expression:"item.materialCode"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.batchNumber,callback:function(t){a.$set(e,"batchNumber",t)},expression:"item.batchNumber"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.stockName,callback:function(t){a.$set(e,"stockName",t)},expression:"item.stockName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：",disabled:"","label-align":"left"},model:{value:e.stockPlaceName,callback:function(t){a.$set(e,"stockPlaceName",t)},expression:"item.stockPlaceName"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{disabled:"",label:"账存数量：","label-align":"left",type:"number"},model:{value:e.qtyAct,callback:function(t){a.$set(e,"qtyAct",t)},expression:"item.qtyAct"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：","label-align":"left",disabled:""},model:{value:e.unitName,callback:function(t){a.$set(e,"unitName",t)},expression:"item.unitName"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"盘点数量：","label-align":"left",type:"number"},model:{value:e.auxCheckQty,callback:function(t){a.$set(e,"auxCheckQty",t)},expression:"item.auxCheckQty"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：","label-align":"left",disabled:""},model:{value:e.unitName,callback:function(t){a.$set(e,"unitName",t)},expression:"item.unitName"}})],1)],1)],1)}),1)],1),a._v(" "),t("div",{staticClass:"form-item"},[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("提交")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},G=t("VU/8")(K,J,!1,null,null,null).exports,H={data:function(){return{barcodeNumber:"",baseData:{},activeName:"",showSalesWayPicker:!1,salesWays:[],showShipperPicker:!1,shippers:[],showSafekeepingPicker:!1,Safekeepings:[],materialList:[]}},created:function(){var a=this;this.showLoading("正在加载...");var e=this.$route.query.data;this.baseData.fPOStyle=e[0].fPOStyle,this.baseData.fposname=e[0].fposname,this.baseData.fSupplyID=e[0].fSupplyID,this.baseData.fsupplyname=e[0].fsupplyname,this.baseData.fDeptID=e[0].fDeptID,this.baseData.fdeptName=e[0].fdeptName,this.baseData.fEmpID=e[0].fEmpID,this.baseData.fempName=e[0].fempName,this.baseData.salesMan=e[0].salesMan,this.baseData.salesManId=e[0].salesManId,this.baseData.shipper=e[0].shipper,this.baseData.shipperId=e[0].shipperId,e.some(function(e,t){e.materialList.some(function(e,t){a.materialList.push(e)})}),this.$api.get("/selectAllEmpInfo",{},function(e){o.e.clear(),e.status>=200&&e.status<300?"true"==e.data.success?(a.shippers=e.data.data,a.Safekeepings=e.data.data,o.e.success("数据获取成功")):o.e.fail(e.data.msg):o.e.fail("数据获取异常！")})},methods:{showLoading:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},onSubmit:function(){this.showLoading("正在提交数据..."),this.$api.post("/submitPurchaseReceipt",{baseData:S()(this.baseData),materialList:S()(this.materialList)},function(a){o.e.clear(),a.status>=200&&a.status<300?"true"==a.data.success?o.e.success("数据提交成功"):o.e.fail(a.data.msg):o.e.fail("数据提交异常！")})},onBack:function(){this.$router.go(-1)},onSalesWayConfirm:function(a){this.baseData.salesWay=a.text,this.baseData.salesWayId=a.id,this.showSalesWayPicker=!1},onShipperConfirm:function(a){this.baseData.shipper=a.text,this.baseData.shipperId=a.id,this.showShipperPicker=!1},onSafekeepingConfirm:function(a){this.baseData.safeKeeping=a.text,this.baseData.safeKeepingId=a.id,this.showSafekeepingPicker=!1},deleteMaterial:function(){var a=this;this.materialList.some(function(e,t){if(e.id==a.activeName)return a.materialList.splice(t,1),!0})},onSearch:function(){var a=this;this.$api.get("/searchBarcodeNumber",{BarcodeNumber:this.barcodeNumber},function(e){if(!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("条码查询异常！");if("true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);o.e.success("条码查询成功");var t=e.data.msg;a.materialList.some(function(a,e){"*"==a.stockPlace&&(a.stockPlace=""),a.materialNumber!=t.materialNumber||a.materialBatch!=t.FBatchNo||a.stockName!=t.fstockName||a.stockPlace!=t.stockPlace||(a.materialActualSum=Number(a.materialActualSum)+Number(t.mSum))})})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.onSearch()}}},X={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{attrs:{placeholder:"","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSearch(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("基本信息")]),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"采购方式：",disabled:"","label-align":"left",readonly:"",clickable:""},on:{click:function(e){a.showSalesWayPicker=!1}},model:{value:a.baseData.fposname,callback:function(e){a.$set(a.baseData,"fposname",e)},expression:"baseData.fposname"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showSalesWayPicker,callback:function(e){a.showSalesWayPicker=e},expression:"showSalesWayPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.salesWays},on:{cancel:function(e){a.showSalesWayPicker=!1},confirm:a.onSalesWayConfirm}})],1)],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"供应商：",disabled:"","label-align":"left","label-width":"2rem"},model:{value:a.baseData.fsupplyname,callback:function(e){a.$set(a.baseData,"fsupplyname",e)},expression:"baseData.fsupplyname"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"部门：",disabled:"","label-align":"left","label-width":"2rem"},model:{value:a.baseData.fdeptName,callback:function(e){a.$set(a.baseData,"fdeptName",e)},expression:"baseData.fdeptName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"主管：",disabled:"","label-align":"left","label-width":"2rem"},model:{value:a.baseData.director,callback:function(e){a.$set(a.baseData,"director",e)},expression:"baseData.director"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"业务员：",disabled:"","label-align":"left","label-width":"2rem"},model:{value:a.baseData.fempName,callback:function(e){a.$set(a.baseData,"fempName",e)},expression:"baseData.fempName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"发货：",disabled:"","label-align":"left","label-width":"2rem"},on:{click:function(e){a.showShipperPicker=!0}},model:{value:a.baseData.shipper,callback:function(e){a.$set(a.baseData,"shipper",e)},expression:"baseData.shipper"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showShipperPicker,callback:function(e){a.showShipperPicker=e},expression:"showShipperPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.shippers},on:{cancel:function(e){a.showShipperPicker=!1},confirm:a.onShipperConfirm}})],1)],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"保管：",disabled:"","label-align":"left","label-width":"2rem"},on:{click:function(e){a.showSafekeepingPicker=!0}},model:{value:a.baseData.safeKeeping,callback:function(e){a.$set(a.baseData,"safeKeeping",e)},expression:"baseData.safeKeeping"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showSafekeepingPicker,callback:function(e){a.showSafekeepingPicker=e},expression:"showSafekeepingPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.Safekeepings},on:{cancel:function(e){a.showSafekeepingPicker=!1},confirm:a.onSafekeepingConfirm}})],1)],1)],1)],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("物料明细")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},a._l(a.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialName,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.materialNumber,callback:function(t){a.$set(e,"materialNumber",t)},expression:"item.materialNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.FBatchNo,callback:function(t){a.$set(e,"FBatchNo",t)},expression:"item.FBatchNo"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.fstockName,callback:function(t){a.$set(e,"fstockName",t)},expression:"item.fstockName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：","label-align":"left"},model:{value:e.stockPlace,callback:function(t){a.$set(e,"stockPlace",t)},expression:"item.stockPlace"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{disabled:"",label:"应收数量：","label-align":"left",type:"number"},model:{value:e.fQty,callback:function(t){a.$set(e,"fQty",t)},expression:"item.fQty"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：","label-align":"left",disabled:""},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"实收数量：","label-align":"left",type:"number"},model:{value:e.materialActualSum,callback:function(t){a.$set(e,"materialActualSum",t)},expression:"item.materialActualSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：","label-align":"left",disabled:""},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("提交")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},Y=t("VU/8")(H,X,!1,null,null,null).exports,Z={data:function(){return{barcodeNumber:"",loading:!1,activeDocName:"",activeMateName:"",docList:[]}},methods:{toastLog:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},dealBarcodeNumber:function(){var a=this;0!=this.barcodeNumber.length?(this.toastLog("正在获取数据..."),this.$api.get("/selectReceiptNotice",{billNo:this.barcodeNumber},function(e){if(!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("数据获取异常！");if(o.e.clear(),"true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);var t=JSON.parse(e.data.msg);console.log(e.data);var s=!0;if(a.docList.some(function(a,e){a.purchasingUnit!=t.purchasingUnit&&(o.e.fail("购货单位必须一致！"),s=!1)}),s){a.$set(t,"id",a.docList.length+1);var n=0;a.docList.some(function(a,e){n=a.materialList.length+e}),t.materialList.some(function(e,t){n+=1,a.$set(e,"id",n)}),a.docList.push(t),o.e.success("成功"),console.log(a.docList)}})):o.e.fail("发货单号不得为空！")},onBack:function(){android.back()},onSubmit:function(){0!=this.docList.length?this.$router.push({path:"/PurchaseReceipt",query:{data:this.docList}}):o.e.fail("收料通知单数据不得为空！")},deleteMaterial:function(){var a=this;this.docList.some(function(e,t){e.id==a.activeDocName&&e.materialList.some(function(t,s){if(t.id==a.activeMateName)return 1==e.materialList.length?a.deleteConsignment():e.materialList.splice(s,1),!0})})},deleteConsignment:function(){var a=this;this.docList.some(function(e,t){if(e.id==a.activeDocName)return a.docList.splice(t,1),!0})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.dealBarcodeNumber()}}},aa={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{placeholder:"请输入收料通知单","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.dealBarcodeNumber,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.dealBarcodeNumber(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.dealBarcodeNumber},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("收料通知单数据")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeDocName,callback:function(e){a.activeDocName=e},expression:"activeDocName"}},a._l(a.docList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.docNumber,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单据编码：",disabled:"","label-align":"left"},model:{value:e.fBillNo,callback:function(t){a.$set(e,"fBillNo",t)},expression:"doc.fBillNo"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"购货单位：",disabled:"","label-align":"left"},model:{value:e.fsupplyname,callback:function(t){a.$set(e,"fsupplyname",t)},expression:"doc.fsupplyname"}})],1)],1),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeMateName,callback:function(e){a.activeMateName=e},expression:"activeMateName"}},a._l(e.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialNumber,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.materialNumber,callback:function(t){a.$set(e,"materialNumber",t)},expression:"item.materialNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料名称：",disabled:"","label-align":"left"},model:{value:e.materialName,callback:function(t){a.$set(e,"materialName",t)},expression:"item.materialName"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"数量：",disabled:"","label-align":"left"},model:{value:e.fQty,callback:function(t){a.$set(e,"fQty",t)},expression:"item.fQty"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：",disabled:"","label-align":"left"},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.fstockName,callback:function(t){a.$set(e,"fstockName",t)},expression:"item.fstockName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：",disabled:"","label-align":"left"},model:{value:e.stockPlace,callback:function(t){a.$set(e,"stockPlace",t)},expression:"item.stockPlace"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.materialBatch,callback:function(t){a.$set(e,"materialBatch",t)},expression:"item.materialBatch"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[""==a.activeMateName||0==e.materialList.length?t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteConsignment}},[a._v("删除")]):a._e()],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("确定")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},ea=t("VU/8")(Z,aa,!1,null,null,null).exports,ta={data:function(){return{barcodeNumber:"",baseData:{},activeName:"",showSalesWayPicker:!1,salesWays:[],showShipperPicker:!1,shippers:[],showSafekeepingPicker:!1,Safekeepings:[],materialList:[]}},created:function(){var a=this;this.showLoading("正在加载...");var e=this.$route.query.data;this.baseData.fDeptID=e[0].fDeptID,this.baseData.fdeptName=e[0].fdeptName,this.baseData.fEmpID=e[0].fEmpID,this.baseData.fempName=e[0].fempName,this.baseData.salesMan=e[0].salesMan,this.baseData.salesManId=e[0].salesManId,this.baseData.shipper=e[0].shipper,this.baseData.shipperId=e[0].shipperId,e.some(function(e,t){e.materialList.some(function(e,t){a.materialList.push(e)})}),this.$api.get("/selectAllEmpInfo",{},function(e){o.e.clear(),e.status>=200&&e.status<300?"true"==e.data.success?(a.shippers=e.data.data,a.Safekeepings=e.data.data,o.e.success("数据获取成功")):o.e.fail(e.data.msg):o.e.fail("数据获取异常！")})},methods:{showLoading:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},onSubmit:function(){this.showLoading("正在提交数据..."),this.$api.post("/submitProductionReceipt",{baseData:S()(this.baseData),materialList:S()(this.materialList)},function(a){o.e.clear(),a.status>=200&&a.status<300?"true"==a.data.success?o.e.success("数据提交成功"):o.e.fail(a.data.msg):o.e.fail("数据提交异常！")})},onBack:function(){this.$router.go(-1)},onSalesWayConfirm:function(a){this.baseData.salesWay=a.text,this.baseData.salesWayId=a.id,this.showSalesWayPicker=!1},onShipperConfirm:function(a){this.baseData.shipper=a.text,this.baseData.shipperId=a.id,this.showShipperPicker=!1},onSafekeepingConfirm:function(a){this.baseData.safeKeeping=a.text,this.baseData.safeKeepingId=a.id,this.showSafekeepingPicker=!1},deleteMaterial:function(){var a=this;this.materialList.some(function(e,t){if(e.id==a.activeName)return a.materialList.splice(t,1),!0})},onSearch:function(){var a=this;this.$api.get("/searchBarcodeNumber",{BarcodeNumber:this.barcodeNumber},function(e){if(!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("条码查询异常！");if("true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);o.e.success("条码查询成功");var t=e.data.msg;a.materialList.some(function(a,e){"*"==a.stockPlace&&(a.stockPlace=""),a.materialNumber!=t.materialNumber||a.materialBatch!=t.FBatchNo||a.stockName!=t.fstockName||a.stockPlace!=t.stockPlace||(a.materialActualSum=Number(a.materialActualSum)+Number(t.mSum))})})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.onSearch()}}},sa={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{attrs:{placeholder:"","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.onSearch,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSearch(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.onSearch},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("基本信息")]),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"交货单位：",disabled:"","label-align":"left",readonly:"",clickable:""},on:{click:function(e){a.showSalesWayPicker=!1}},model:{value:a.baseData.fposname,callback:function(e){a.$set(a.baseData,"fposname",e)},expression:"baseData.fposname"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showSalesWayPicker,callback:function(e){a.showSalesWayPicker=e},expression:"showSalesWayPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.salesWays},on:{cancel:function(e){a.showSalesWayPicker=!1},confirm:a.onSalesWayConfirm}})],1)],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"保管：",disabled:"","label-align":"left","label-width":"2rem"},on:{click:function(e){a.showSafekeepingPicker=!0}},model:{value:a.baseData.safeKeeping,callback:function(e){a.$set(a.baseData,"safeKeeping",e)},expression:"baseData.safeKeeping"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showSafekeepingPicker,callback:function(e){a.showSafekeepingPicker=e},expression:"showSafekeepingPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.Safekeepings},on:{cancel:function(e){a.showSafekeepingPicker=!1},confirm:a.onSafekeepingConfirm}})],1)],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"发货：",disabled:"","label-align":"left","label-width":"2rem"},on:{click:function(e){a.showShipperPicker=!0}},model:{value:a.baseData.shipper,callback:function(e){a.$set(a.baseData,"shipper",e)},expression:"baseData.shipper"}}),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showShipperPicker,callback:function(e){a.showShipperPicker=e},expression:"showShipperPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.shippers},on:{cancel:function(e){a.showShipperPicker=!1},confirm:a.onShipperConfirm}})],1)],1)],1)],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("物料明细")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},a._l(a.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialName,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.materialNumber,callback:function(t){a.$set(e,"materialNumber",t)},expression:"item.materialNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.FBatchNo,callback:function(t){a.$set(e,"FBatchNo",t)},expression:"item.FBatchNo"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓库：",disabled:"","label-align":"left"},model:{value:e.fstockName,callback:function(t){a.$set(e,"fstockName",t)},expression:"item.fstockName"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"仓位：","label-align":"left"},model:{value:e.stockPlace,callback:function(t){a.$set(e,"stockPlace",t)},expression:"item.stockPlace"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{disabled:"",label:"应收数量：","label-align":"left",type:"number"},model:{value:e.fAuxQtyFinish,callback:function(t){a.$set(e,"fAuxQtyFinish",t)},expression:"item.fAuxQtyFinish"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：","label-align":"left",disabled:""},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{required:"",label:"实收数量：","label-align":"left",type:"number"},model:{value:e.materialActualSum,callback:function(t){a.$set(e,"materialActualSum",t)},expression:"item.materialActualSum"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：","label-align":"left",disabled:""},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("提交")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},na=t("VU/8")(ta,sa,!1,null,null,null).exports,ia={data:function(){return{barcodeNumber:"",loading:!1,activeDocName:"",activeMateName:"",docList:[]}},methods:{toastLog:function(a){o.e.loading({duration:0,message:a,forbidClick:!0})},dealBarcodeNumber:function(){var a=this;0!=this.barcodeNumber.length?(this.toastLog("正在获取数据..."),this.$api.get("/selectProductionReport",{billNo:this.barcodeNumber},function(e){if(!(e.status>=200&&e.status<300))return o.e.clear(),void o.e.fail("数据获取异常！");if(o.e.clear(),"true"!=e.data.success)return o.e.clear(),void o.e.fail(e.data.msg);var t=JSON.parse(e.data.msg),s=!0;if(a.docList.some(function(a,e){a.purchasingUnit!=t.purchasingUnit&&(o.e.fail("购货单位必须一致！"),s=!1)}),s){a.$set(t,"id",a.docList.length+1);var n=0;a.docList.some(function(a,e){n=a.materialList.length+e}),t.materialList.some(function(e,t){n+=1,a.$set(e,"id",n)}),a.docList.push(t),o.e.success("成功"),console.log(a.docList)}})):o.e.fail("生产汇报单号不得为空！")},onBack:function(){android.back()},onSubmit:function(){0!=this.docList.length?this.$router.push({path:"/ProductionReceipt",query:{data:this.docList}}):o.e.fail("生产汇报单数据不得为空！")},deleteMaterial:function(){var a=this;this.docList.some(function(e,t){e.id==a.activeDocName&&e.materialList.some(function(t,s){if(t.id==a.activeMateName)return 1==e.materialList.length?a.deleteConsignment():e.materialList.splice(s,1),!0})})},deleteConsignment:function(){var a=this;this.docList.some(function(e,t){if(e.id==a.activeDocName)return a.docList.splice(t,1),!0})},openScanner:function(){android.openScanner()},scannerSearch:function(a){this.barcodeNumber=a,this.dealBarcodeNumber()}}},la={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body-bg"},[t("div",{staticClass:"form-item"},[t("van-search",{staticStyle:{"margin-right":"1rem","margin-left":"0.1rem"},attrs:{placeholder:"请输入生产汇报单号","show-action":"",shape:"round",clear:"","right-icon":""},on:{search:a.dealBarcodeNumber,keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.dealBarcodeNumber(e)}},model:{value:a.barcodeNumber,callback:function(e){a.barcodeNumber=e},expression:"barcodeNumber"}},[t("div",{attrs:{slot:"action",disabled:"loading"},on:{click:a.dealBarcodeNumber},slot:"action"},[a._v("搜索")]),a._v(" "),t("div",{attrs:{slot:"right-icon"},on:{click:a.openScanner},slot:"right-icon"},[t("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:"saomiao"}})],1)])],1),a._v(" "),t("div",{staticClass:"form-item"},[t("h2",{staticClass:"form-header"},[a._v("生产汇报单数据")]),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeDocName,callback:function(e){a.activeDocName=e},expression:"activeDocName"}},a._l(a.docList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.fBillNo,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单据编码：",disabled:"","label-align":"left"},model:{value:e.fBillNo,callback:function(t){a.$set(e,"fBillNo",t)},expression:"doc.fBillNo"}})],1)],1),a._v(" "),t("van-collapse",{attrs:{accordion:""},model:{value:a.activeMateName,callback:function(e){a.activeMateName=e},expression:"activeMateName"}},a._l(e.materialList,function(e){return t("van-collapse-item",{key:e.id,attrs:{title:e.materialNumber,name:e.id}},[t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料编码：",disabled:"","label-align":"left"},model:{value:e.materialNumber,callback:function(t){a.$set(e,"materialNumber",t)},expression:"item.materialNumber"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"物料名称：",disabled:"","label-align":"left"},model:{value:e.materialName,callback:function(t){a.$set(e,"materialName",t)},expression:"item.materialName"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"数量：",disabled:"","label-align":"left"},model:{value:e.fAuxQtyFinish,callback:function(t){a.$set(e,"fAuxQtyFinish",t)},expression:"item.fAuxQtyFinish"}})],1),a._v(" "),t("van-col",{attrs:{span:"12"}},[t("van-field",{attrs:{label:"单位：",disabled:"","label-align":"left"},model:{value:e.materialUnit,callback:function(t){a.$set(e,"materialUnit",t)},expression:"item.materialUnit"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"24"}},[t("van-field",{attrs:{label:"批号：",disabled:"","label-align":"left"},model:{value:e.materialBatch,callback:function(t){a.$set(e,"materialBatch",t)},expression:"item.materialBatch"}})],1)],1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteMaterial}},[a._v("删除")])],1)],1)],1)}),1),a._v(" "),t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[""==a.activeMateName||0==e.materialList.length?t("van-button",{staticClass:"button",attrs:{size:"mini",type:"danger"},on:{click:a.deleteConsignment}},[a._v("删除")]):a._e()],1)],1)],1)}),1)],1),a._v(" "),t("div",[t("van-row",[t("van-col",{attrs:{span:"6"}}),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:a.onBack}},[a._v("返回")])],1),a._v(" "),t("van-col",{attrs:{span:"6",align:"center"}},[t("van-button",{staticClass:"button",attrs:{round:"",size:"small",type:"danger"},on:{click:a.onSubmit}},[a._v("确定")])],1),a._v(" "),t("van-col",{attrs:{span:"6"}})],1)],1)])},staticRenderFns:[]},oa=t("VU/8")(ia,la,!1,null,null,null).exports;s.default.use(l.a);var ra=new l.a({routes:[{path:"/jobBooking",name:"JobBooking",component:u},{path:"/helloWorld",name:"HelloWorld",component:m},{path:"/revisePassword",name:"RevisePassword",component:f},{path:"/inventory",name:"inventory",component:k},{path:"/producionFeeding",name:"producionFeeding",component:_},{path:"/producionFeedingForProductRequisit",name:"producionFeedingForProductRequisit",component:y},{path:"/consignmentNote",name:"ConsignmentNote",component:$},{path:"/consignmentNoteForSaleIssue",name:"ConsignmentNoteForSaleIssue",component:B},{path:"/boxing",name:"Boxing",component:q},{path:"/unPacking",name:"UnPacking",component:E},{path:"/miscellaneousIssue",name:"MiscellaneousIssue",component:T},{path:"/auxCheckAll",name:"AuxCheckAll",component:V},{path:"/auxCheck",name:"AuxCheck",component:G},{path:"/purchaseReceipt",name:"PurchaseReceipt",component:Y},{path:"/receiptNotice",name:"ReceiptNotice",component:ea},{path:"/productionReceipt",name:"ProductionReceipt",component:na},{path:"/productionReport",name:"ProductionReport",component:oa}]}),ca=(t("4ml/"),t("zL8q")),ua=t.n(ca),da=(t("sVYa"),t("mtWM")),ma=t.n(da).a.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},transformRequest:[function(a){var e="";for(var t in a)!0===a.hasOwnProperty(t)&&(e+=encodeURIComponent(t)+"="+encodeURIComponent(a[t])+"&");return e}]});function va(a,e,t,s){ma({method:a,url:e,data:"POST"===a||"PUT"===a?t:null,params:"GET"===a||"DELETE"===a?t:null}).then(function(a){s(a)}).catch(function(a){s(a)})}var ba={get:function(a,e,t){return va("GET",a,e,t)},post:function(a,e,t){return va("POST",a,e,t)},put:function(a,e,t){return va("PUT",a,e,t)},delete:function(a,e,t){return va("DELETE",a,e,t)}};t("bs3D"),t("TtOz");s.default.use(o.e),s.default.use(o.b),s.default.prototype.$api=ba,s.default.use(ua.a,{size:"small",zIndex:3e3}),s.default.use(o.f),s.default.config.productionTip=!1,new s.default({el:"#app",router:ra,components:{App:i},template:"<App/>"})},TtOz:function(a,e){},UEbX:function(a,e){},ZsvG:function(a,e){},bs3D:function(a,e){}},["NHnr"]);
//# sourceMappingURL=app.f8d50e872825626c14f2.js.map